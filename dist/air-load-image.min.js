/*
 * Air load image - v1.0.0
 * Description: Lazy loading of images and the background when scrolling
 * author.name: mero.push
 * author.email: mero.push@gmail.com
 * https://github.com/meroPush/air-load-image
 * Created: Mon Mar 06 2017 18:05:44 GMT+0200 (EET)
 */

!function(t,i){function e(i){var e={items:"._air-load-image",backgrounds:"._air-load-background",pluginId:"airLoadImage",extended:"75%",timeThrottle:1e3};this._defaults=e,this.options=t.extend({},e,i),this.extended=0,this.windowHeight=0,this.init()}i.AirLoadImage=e,e.prototype.getExtended=function(){var t;return t="string"==typeof this.options.extended?parseFloat(this.options.extended)*this.windowHeight/100:this.options.extended,this.extended=-t,-t},e.prototype.updateWindowHeight=function(){return this.windowHeight=document.documentElement.clientHeight,this.windowHeight},e.prototype.throttle=function(t,i){function e(){return s?(o=arguments,void(n=this)):(t.apply(this,arguments),s=!0,void setTimeout(function(){s=!1,o&&(e.apply(n,o),o=n=null)},i))}var o,n,s=!1;return e},e.prototype.init=function(){function e(t){o.getExtended(),"resize"===t.type&&o.updateWindowHeight(),n.call(o)}var o=this,n=this.throttle(this.showVisible,this.options.timeThrottle);t(document).on("scroll."+this.options.pluginId,e),t(i).on("resize."+this.options.pluginId,e),this.getExtended(),this.updateWindowHeight(),this.showVisible()},e.prototype.checkVisible=function(t){var i=t.getBoundingClientRect(),e=i.top>0&&i.top+this.extended<=this.windowHeight,o=i.bottom>this.extended&&i.bottom<=this.windowHeight,n=i.top<0&&i.bottom>this.windowHeight;return e||o||n},e.prototype.showVisible=function(){for(var i=t(this.options.items),e=0;e<i.length;e++){var o=i[e],n=o.getAttribute("data-air-img");n&&this.checkVisible(o)&&("IMG"===o.tagName?o.src=n:o.style.backgroundImage="url("+n+")",o.setAttribute("data-air-img",""))}},e.prototype.reInit=function(){this.destroy(),this.init()},e.prototype.destroy=function(){t(document).off("scroll."+this.options.pluginId),t(i).off("resize."+this.options.pluginId)}}(jQuery,window);